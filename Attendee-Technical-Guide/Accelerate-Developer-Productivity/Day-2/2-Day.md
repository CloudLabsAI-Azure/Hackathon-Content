# Accelerate Developer Productivity - Day 2 Hackathon

Welcome to the DevSecOps Mastery with GitHub Hackathon! This event is your gateway to mastering DevSecOps practices within a modern application environment. We have crafted this hackathon to provide you with a robust learning experience, focused on Contoso Traders, a hypothetical e-commerce company using a React front-end, .NET back-end, and various microservices, container services, AI-powered GitHub Actions, understanding of Security compliance as code and mastering the usage of GitHub Copilot.

Your goal is to integrate DevSecOps practices while deploying existing React Applications. As you navigate through various challenges, you will gain practical experience in implementing DevSecOps in an application built with a modern tech stack.

## Learning Objectives

Participating in this hackathon, you will:

- Master the art of Continuous Integration and Deployment (CI/CD) for .NET applications using GitHub Actions.
- Enhance code security and manage dependencies effectively.
- Integrate and optimize monitoring solutions using Azure Monitor and Application Insights.
- Execute resilience testing to ensure the robustness of the application.
- Integrate the usage of AI-powered GitHub actions to have a good hold on the security checks and compliance of pipelines.
- Master the usage of GitHub Copilot to leverage the power of AI towards code completion and testing.

## Hackathon Format: Challenge Based
This hackathon adopts a challenge-based format, offering you a unique opportunity to learn while dealing with practical problems. Each challenge includes one or more self-contained tasks, designed to test and enhance your skills in specific aspects of DevSecOps. You will approach these challenges by:

- Analyzing the problem statement.
- Strategize your approach to find the most effective solution.
- Leveraging the provided lab environment and GitHub technologies.
- Collaborating with peers to refine and implement your solutions.

## Challenges

1. **Challenge 01: Continuous Integration and Deployment for Contoso Traders using GitHub Actions**
   - Create a GitHub repository for the ecommerce application.
   - Set up a CI/CD workflow using GitHub Actions.
   - Add new features and test automated deployments with GitHub Actions. 

2. **Challenge 02: GitHub Advanced Security - Implement Code Security Enhancements**
   - Activate and utilize code scanning tools for vulnerability identification.
   - Implement CodeQL alerts and handle security advisories.
   - Mitigate security risks identified in dependencies.
       
3. **Challenge 03: GitHub Advanced Security - Dependency Management and Secret Scanning**
    - Analyze and manage dependencies for security risks.
    - Implement Dependabot for automated package updates.
    - Use secret scanning to secure sensitive information.

4. **Challenge 04: Integrate 'About Us' Page with GitHub Copilot in React Application**
   - Integrate an 'About Us' app component in React using GitHub Copilot.
   - Unit Test Generation with Copilot.
   - Code Review and Security Check.
   - CI/CD Pipeline Setup and Infrastructure Deployment.

5. **Challenge 05: Implementing Monitoring Solutions for Contoso Traders**
   - Integrate Azure Monitor and Application Insights.
   - Configure key performance metrics and alerting mechanisms.
   - Design dashboards for monitoring application health.

6. **Challenge 06: Resilience Testing using Azure Load Testing & Azure Chaos Studio**
   - Conduct Azure Load Testing for high-scale traffic simulation.
   - Configure and run experiments in Azure Chaos Studio.

7. **Challenge 07: DevSecOps with AI-Powered GitHub Actions**
   - Configure and implement AI Code Review GitHub Action.
   - Configure and implement AI Security Check for Pull Requests.
   
8. **Challenge 08: Security Compliance as Code**
   - Implement Security Policies using Azure Policy.
   - Integrate Compliance Scanning in CI/CD pipeline.
  
9. **Challenge 09: Securing DevOps with Microsoft Defender for Cloud**
   - Connect GitHub Environment to Microsoft Defender for Cloud.
   - Configure Microsoft Security DevOps GitHub Action.
   - Investigate and Remediate.

Each challenge comes with its own set of tasks and objectives.

Feel free to explore the challenges, learn, and have fun during this hackathon! If you have any questions, don't hesitate to reach out to your coach.

### Support Contact
The CloudLabs support team is available 24/7, 365 days a year, via email and live chat to ensure seamless assistance at any time. We offer dedicated support channels tailored specifically for both learners and instructors, ensuring that all your needs are promptly and efficiently addressed.
 
Learner Support Contacts:
 
- Email Support: cloudlabs-support@spektrasystems.com
- Live Chat Support: https://cloudlabs.ai/labs-support

### Happy hacking!

# Hackathon Mission and Use-Case 
This exciting event is centered around enhancing the e-commerce platform of Contoso Traders and also working around with a simple React Application. Our mission is to integrate advanced DevSecOps practices into Contoso Traders' existing infrastructure, leveraging the power of GitHub technologies and Azure services. This hackathon is a pivotal step in our journey towards creating a more secure, efficient, and robust e-commerce ecosystem.

As an innovative player in the e-commerce industry, Contoso Traders is committed to constantly improving its technological capabilities. We recognize the critical importance of DevSecOps in today’s fast-paced digital environment, where security and operational efficiency are paramount. The objective of this hackathon is to explore, implement, and master DevSecOps practices that can be seamlessly integrated into our existing platforms, elevating both the security posture and operational excellence of Contoso Traders.

Your mission as a participant is to learn, apply, and showcase your skills in various aspects of DevSecOps using the .NET framework, React, and various microservices. By utilizing GitHub and Azure technologies, you will face real-world challenges that Contoso Traders encounters in its daily operations. We rely on your innovative thinking and problem-solving abilities to:

### Integrate and Enhance DevSecOps Practices:

1. **Implement Efficient CI/CD Pipelines:**
    - Develop and set up robust Continuous Integration and Continuous Deployment (CI/CD) workflows using GitHub Actions. Focus on automating the build, test, and deployment processes for Contoso Traders’ e-commerce platform.
Strengthen Code and Dependency Security.

2. **Strengthen Code and Dependency Security:**
    - Utilize GitHub Advanced Security features to enhance code security. Implement CodeQL for code analysis, manage dependencies, and perform secret scanning to protect sensitive data.
    
3. **Optimize Application Monitoring and Alerting:**
    - Integrate Azure Monitor and Application Insights to monitor application health. Design and configure dashboards for real-time performance metrics and set up alerting mechanisms for proactive issue resolution.
4. **Conduct Resilience Testing:**
    - Perform resilience testing using Azure Load Testing and Azure Chaos Studio. Simulate high-scale traffic and chaotic events to test and improve the resilience of the e-commerce platform.
5. **Enhancing DevSecOps Workflow with AI-Powered GitHub Actions:**
    - Implement AI-driven GitHub Actions for code review and security checks, leveraging OpenAI's GPT-4 API. This enables automated feedback and vulnerability detection on pull requests, enhancing code quality and security practices.
6. **Add new application features into a React App:**
    - Integrate the 'About Us' page component into the React application using GitHub Copilot, conduct unit tests, code review, and security checks, and deploy the updated application to Azure via GitHub Actions CI/CD pipeline.
7. **Securing Azure Resources with Compliance as Code:**
    - Implement and enforce Azure security policies, integrate compliance scanning into GitHub CI/CD pipelines for Azure projects.
8. **Enhancing DevOps Security with Microsoft Defender for Cloud:**
    - Implement Microsoft Defender for Cloud in GitHub workflows, remediate security findings to enhance DevOps security.

In this hackathon, you will be at the forefront of applying cutting-edge DevSecOps practices in a real-world scenario. You will have access to all the necessary tools and resources to effectively implement these use-cases and contribute to the evolution of the React Application.

Join us in this transformative journey to redefine the ease and standards of React Application development. Your expertise and creativity can pave the way for a more secure, efficient, and resilient digital retail experience. Let’s innovate together!

Happy hacking!

# Prerequisites:

Before you begin, ensure that you have the following prerequisites installed and configured in CloudLabs provided Integrated Environment (JumpVM) which you are going to use throughout the hackathon:
     
> Note: Prerequisites are already set up in the CloudLabs-provided environment. If you're using your personal computer or laptop, please make sure that all necessary prerequisites are installed to complete this Hackathon.

1. **Basic programming knowledge**: Familiarity with at least one programming language (e.g., Python, JavaScript, Java, or C#) and a basic understanding of software development concepts.

1. **Azure account**: A Microsoft Azure account with an active subscription.

1. **GitHub**: A GitHub account with a trial Enterprise subscription and familiarity with GitHub concepts for version control.

1. **Development environment**: A computer with your preferred development environment installed with the below prerequisites

   1. Install Visual Studio Code (https://code.visualstudio.com/download).
   1. Install Azure CLI (https://docs.microsoft.com/en-us/cli/azure/install-azure-cli), min version 2.53.0.
   1. Install PowerShell (https://docs.microsoft.com/en-us/powershell/scripting/install/installing-powershell?view=powershell-7.1).
   1. Install .NET 6.0 SDK [(https://dotnet.microsoft.com/download/dotnet/6.0](https://dotnet.microsoft.com/en-us/download/dotnet/6.0)).
   1. Install Node v16.8.0  ([https://nodejs.org/en/download](https://nodejs.org/en/blog/release/v16.8.0)).
   2. Download the application code base in your computer: ([https://experienceazure.blob.core.windows.net/devsecops-hackthon/DevOps-DevSecOps-Hackathon-lab-files.zip]). You will need to use this repository to complete the challenges successfully.

Feel free to explore the challenges, learn, and have fun during this hackathon! If you have any questions, don't hesitate to contact our support team. 

Happy hacking!

# Challenge 01: Continuous Integration and Deployment for Contoso Traders using GitHub Actions

### Estimated Time: 90 minutes

## Introduction:
This challenge is designed to evaluate your skills in creating a robust CI/CD pipeline leveraging GitHub Actions. It aims to assess your capability to not only establish a seamless pipeline but also to guarantee the successful deployment of the application.

You are a DevOps engineer tasked with setting up a robust Continuous Integration and Continuous Deployment (CI/CD) pipeline for an e-commerce application named Contoso Traders. The goal is to set up a GitHub repository, implement a CI/CD workflow using GitHub Actions, deploy the application to Azure, and make rolling updates to the repository.

## Accessing GitHub

1. To access and login to GitHub, open the Edge browser from inside the environment and navigate to **[GitHub](https://github.com/)**.

2. Sign in to GitHub by clicking on the **Sign in** button in the top right corner of the GitHub home page.

3. On the **Sign into GitHub tab**, you will see a login screen. Enter the following email/username, and click on **Next**.

   - **Email/Username:** <inject key="GitHubUsername"></inject>

1. Now enter the following password and click on **Sign in**.

   - **Password:** <inject key="GitHubPassword"></inject>

## Accessing the Azure Portal

1. To access the Azure Portal, open the Edge browser from inside the environment and navigate to **[Azure Portal](https://portal.azure.com)**.

1. On the **Sign in to Microsoft Azure** tab, you will see a login screen. Enter the following email/username and then click on **Next**. 
   * Email/Username: <inject key="AzureAdUserEmail"></inject>
        
1. Now enter the following password and click on **Sign in**.
   * Password: <inject key="AzureAdUserPassword"></inject>
     
1. If you see the pop-up **Stay Signed in?**, click No.

1. If you see the pop-up **You have free Azure Advisor recommendations!**, close the window to continue the lab.

1. If a **Welcome to Microsoft Azure** pop-up window appears, click **Maybe Later** to skip the tour.

## Challenge Objectives:

>**Note:** Only use GitHub and GitHub Actions for CI/CD; no usage of Azure DevOps or any external CI/CD services.

1. **Setup a GitHub repository:**
   - Create a new GitHub repository with public access permission.

> **Congratulations** on completing the task! Now, it's time to validate it. Here are the steps:
> - Hit the Validate button for the corresponding task. If you receive a success message, you can proceed to the next task. 
> - If not, carefully read the error message and retry the step, following the instructions in the lab guide.
> - If you need any assistance, please contact us at cloudlabs-support@spektrasystems.com We are available 24/7 to help

<validation step="6b3463a9-eca3-4377-b04c-9c04afe4ebb1" />

   - You are provided with an e-commerce application named Contoso Traders, which needs to be deployed and hosted on Azure.
   - You can navigate to the `C:\Workspaces\lab\DevOps-DevSecOps-Hackathon-lab-files` directory and find the complete code base of the application.
   - Using Visual Studio code, connect to the GitHub repository that you created in the earlier step and push the application code base to your GitHub repository.
  
> **Congratulations** on completing the task! Now, it's time to validate it. Here are the steps:
> - Hit the Validate button for the corresponding task. If you receive a success message, you can proceed to the next task. 
> - If not, carefully read the error message and retry the step, following the instructions in the lab guide.
> - If you need any assistance, please contact us at cloudlabs-support@spektrasystems.com We are available 24/7 to help

<validation step="748366ea-c3bf-4783-ac55-ba773159b299" />

1. **Deploy Infrastructure:**
   - In the GitHub repository, navigate to the setting and add github action secrets and variable as below.
     - Create GitHub secrets with the same name as mentioned below.
        - **SERVICEPRINCIPAL**: Create a secret to store service principal details. You can find the details in the Environment details tab of your environment.
        - **SQLPASSWORD**: You need to store **<inject key="AzureAdUserPassword"></inject>(Azure AD user password)** as a secret. 
     
     - Create GitHub variables with the same name as mentioned below.   
        - **DEPLOYMENTREGION**: Add you deployment region where you want to get the resources deployed.
        - **SUFFIX**: Create a secret to store the deployment ID which is **<inject key="DeploymentID" enableCopy="false" />**.
       
       >**Hint**: You can also find the deployment ID and the Azure AD password within the environment details tab of your integrated lab guide.

   -  Run the workflow named `contoso-traders-app-deployment` using GitHub Actions.
 
 2. **Setup CI/CD Workflow:**

   - Update the previously created GitHub secret with the following value:
      - **SQLPASSWORD**: ADO.NET (SQL authentication) connection string of `productsdb` SQL database.

   - In the GitHub repository, navigate to  **.github/workflow** where you will be able to find the yaml workflow. This YAML file is partially updated, you need to update the YAML files with the right steps and complete the workflow. This workflow should deploy the application to Azure. 
  
3. **Test the application and perform rolling updates:**
   - Navigate to the Azure Portal and check the application status using Azure Endpoint.
   - Update the workflow file to initiate Action run on changes to the GitHub repository.
  
## Success criteria:
To complete this challenge successfully:

- Verify the successful deployment of the Infrastructure of the application in the Azure Portal.
- Verify the GitHub Action; all the jobs in the GitHub Action should be completed without any error.
- Verify the deployment and hosting of the Contoso Traders application in Azure.

## Additional Resources:

Here are a few documentation and guides to assist you in completing the challenge.
- [GitHub Actions](https://docs.github.com/en/actions)
- [Why CI/CD](https://resources.github.com/ci-cd/).
- [Continuous Deployment with Github Actions: An Example](https://www.dolthub.com/blog/2020-11-23-continous-deployment-with-github-actions/).
- [How to build a CI/CD pipeline with GitHub Actions in four simple steps](https://github.blog/2022-02-02-build-ci-cd-pipeline-github-actions-four-steps/).

## Conclusion:
Congratulations on completing the **Continuous Integration and Deployment for Contoso Traders using GitHub Actions** challenge. You have successfully verified the configuration of a GitHub repository, established a functional CI/CD workflow, and utilized GitHub Actions to deploy the .NET application. In the next challenge, you will look into implementing security features offered by GitHub.

# Challenge 02: GitHub Advanced Security - Implement Code Security Enhancements

### Estimated Time: 60 minutes

### Introduction:
In this previous challenge, you successfully hosted the application using the GitHub repository and GitHub Actions for Continuous Integration and Continuous Delivery. In this challenge, you are a DevSecOps engineer tasked with ensuring the security of the Contoso Traders application hosted on GitHub. In this challenge, your goal is to mitigate risks in dependencies and secure sensitive data using advanced security features provided by GitHub. 

You need to focus on completing the implementation of the below-mentioned security features.

**Code Scanning**: Code scanning is a feature that you use to analyze the code in a GitHub repository to find security vulnerabilities and coding errors. Any problems identified by the analysis are shown on GitHub. You can use code scanning to find, triage, and prioritize fixes for existing problems in your code. Code scanning also prevents developers from introducing new problems

**CodeQL**: CodeQL is the code analysis engine developed by GitHub to automate security checks. You can analyze your code using CodeQL and display the results as code-scanning alerts.

**Repository security advisories**: Repository security advisories allow repository maintainers to privately discuss and fix a security vulnerability in a project. 

## Accessing GitHub

1. To access and login to GitHub, open the Edge browser from inside the environment and navigate to **[GitHub](https://github.com/)**.

2. Sign in to GitHub by clicking on the **Sign in** button in the top right corner of the GitHub home page.

3. On the **Sign into GitHub tab**, you will see a login screen. Enter the following email/username and then click on **Next**.

   - **Email/Username:** 

1. Now enter the following password and click on **Sign in**.

   - **Password:** 


## Challenge Objectives:

> **Note**: Use the same GitHub repository that you created in the last challenge.

1. **Implement Code Scanning and CodeQL:**
 
   - Enable Code scanning for the repository.
   - Configure CodeQL analysis in the workflow to the existing GitHub.
   - Resolve the generated alerts, if any.

2. **Implement Repository security advisories:**
   -  Set up Repository security advisory features for App.js package. Use the `devsecops/src/TailwindTraders.Ui.Website/src/App.js` path while configuring the affected products.

> **Congratulations** on completing the task! Now, it's time to validate it. Here are the steps:
> - Hit the Validate button for the corresponding task. If you receive a success message, you can proceed to the next task. 
> - If not, carefully read the error message and retry the step, following the instructions in the lab guide.
> - If you need any assistance, please contact us at cloudlabs-support@spektrasystems.com We are available 24/7 to help

<validation step="1d6e70be-a8ff-4c94-8ec4-50b9790a0fd8" />
  
## Success criteria:
To complete this challenge successfully:

   - Verify the implementation of setting up Code Scanning and CodeQL via alerts.
   - Configure the Repository security advisories feature and create temporary private fork.

## Additional Resources:

Here are a few documentation and guides to assist you in completing the challenge.
- [About GitHub's Advanced Security](https://docs.github.com/en/code-security/getting-started/github-security-features)
- [About GitHub's Advanced Security](https://docs.github.com/en/code-security/code-scanning/introduction-to-code-scanning/about-code-scanning-with-codeql)
- [Code Scanning with GitHub CodeQL](https://learn.microsoft.com/en-us/training/modules/code-scanning-with-github-codeql/)

## Conclusion
Congratulations on successfully completing the **GitHub Advanced Security - Implement Code Security Enhancements** challenge. You've taken crucial steps to ensure the security and integrity of your codebase, especially when dealing with sensitive customer data. As you continue developing the e-commerce platform, consider regularly reviewing and updating your security measures. Stay informed about new security features and best practices offered by GitHub to ensure that your repository remains resilient to emerging threats. In this next challenge, you will explore and implement more GitHub advanced security features.

# Challenge 03: GitHub Advanced Security - Dependency Management and Secret Scanning

### Estimated Time: 40 minutes

### Introduction:

In the previous challenge, you configured a few of the GitHub Advanced security features. In this challenge, as a DevSecOps engineer, your focus is on automating security processes and preventing security vulnerabilities. The Contoso Traders application, hosted on GitHub, will benefit from crucial GitHub Advanced security features like GitHub Dependabots and Secret Scanning.

**Dependabots**: Dependabot security updates are automated pull requests that help you update dependencies with known vulnerabilities. Dependabot version updates are automated pull requests that keep your dependencies updated, even when they don't have any vulnerabilities.

**Secret Scanning**: GitHub secret scanning is a security feature provided by GitHub to help identify and manage sensitive information, such as API keys, tokens, and other credentials, that may have been accidentally committed to a code repository.

## Challenge Objectives:

> **Note**: Use the same GitHub repository that you created in the last challenge.

1. **Configure Dependabot Alerts:**

   -  Use Dependabot and configure it to track the versions of the packages used in your GitHub repository and create pull requests to update packages for us.
   - Track and resolve any of the dependabots alert.
  
3. **Implement Secret Scanning:**
   - Enable the Secret Scanning security feature to the existing GitHub repository.
   - Check the working of the feature by exposing the application ID of a service principal and resolving the alerts.
  
## Success criteria:
To complete this challenge successfully:

- Successful implementation of GitHub Dependabots for identifying and addressing security vulnerabilities.
- Set up secreting scanning and update the code base to resolve the alerts.

## Additional Resources:

- Refer to [Secret Scanning](https://docs.github.com/en/code-security/secret-scanning/about-secret-scanning) for reference.
- Refer to [GitHub Dependabot](https://docs.github.com/en/code-security/dependabot/dependabot-alerts/about-dependabot-alerts) for reference.

## Conclusion
Congratulations on completing the **GitHub Advanced Security - Dependency Management and Secret Scanning** challenge! By addressing critical aspects of sensitive data security, and organization-level security settings, you've significantly strengthened the security posture of your GitHub repository. In the next challenge, you will focus on implementing monitoring over the application.

# Challenge 04: Integrate 'About Us' Page with GitHub Copilot in React Application  

### Estimated Time: 60 minutes

### Introduction:
In this challenge, you will be improving a React Application. As a DevOps engineer, your focus is to seamlessly implement and test new app features with Copilot, ensuring accuracy and alignment. Conduct a thorough code review and enhance security using GitHub Advanced Security's CodeQL. Streamline development with a GitHub Actions CI/CD pipeline for a React application, ensuring efficient and secure deployment.

## Challenge Objectives:

>**Note:** In this challenge, you are provided with a simple React application present in the path `C:\Workspaces\lab\DevOps-DevSecOps-Hackathon-lab-files-2\ContosoTraders.Ui.Website.V2.Raw`.

1. **Integrate an 'About Us' app component in React using GitHub Copilot:**
   - You are provided with a simple React application which needs to be deployed and hosted on Azure.
   - You can navigate to the `C:\Workspaces\lab\DevOps-DevSecOps-Hackathon-lab-files-2\ContosoTraders.Ui.Website.V2.Raw` directory and then ensure to select the `ContosoTraders.Ui.Website.V2` folder to import the complete code base of the application.
   - Enhance the user interface by designing and integrating an **About Us** page app component within the existing imported React application using **GitHub Copilot**.
   - Ensure that the React Application is up and running with the newly integrated **About Us** page, locally on `http://localhost:3000/`.

2. **Generate and run Unit Test cases using GitHub Coplilot:**
   - Generate Unit Test cases using GitHub Copilot for the `WelcomePopup.js` file present in the path `ContosoTraders.Ui.Wesite.V2/src/`.
   - Create a new test file named `WelcomePopup.test.js` to run the unit test cases.
   - Ensure that the generated test cases are aligning with the code analogy with successful test passes.
   - Resolve any unit test failures with the help of GitHub Copilot chat. 

3. **Code Review and Security Check:**
   - Perform a code review and on the new feature implemented using GitHub Copilot.
   >**Hint:** Focus areas include code readability, adherence to best practices, and ensuring that the new feature aligns with the existing codebase.
   - Run a security check on the newly implemented code using GitHub Advanced Security features thus resolving any alerts to vulnerabilities and catch any potential security issues using CodeQL over the repository.
  
> **Congratulations** on completing the task! Now, it's time to validate it. Here are the steps:
> - Hit the Validate button for the corresponding task. If you receive a success message, you can proceed to the next task. 
> - If not, carefully read the error message and retry the step, following the instructions in the lab guide.
> - If you need any assistance, please contact us at cloudlabs-support@spektrasystems.com We are available 24/7 to help

<validation step="44d7ea0d-9ec0-492d-9187-f26662853905" />

> **Congratulations** on completing the task! Now, it's time to validate it. Here are the steps:
> - Hit the Validate button for the corresponding task. If you receive a success message, you can proceed to the next task. 
> - If not, carefully read the error message and retry the step, following the instructions in the lab guide.
> - If you need any assistance, please contact us at cloudlabs-support@spektrasystems.com We are available 24/7 to help

<validation step="5825f3d1-6d1f-47db-add9-c46b8e34621b" />
      
5. **CI/CD Pipeline Setup and Infrastructure Deployment:**
   - Host the React Application with the new app component over Azure using **Static Web Apps** through GitHub Actions.
   - Ensure that the **Azure Static Web Apps CI/CD** GitHub workflow is successful. 

## Success criteria:
To complete this challenge successfully:

- Successful implementation of the new feature.
- Accuracy and completeness of the generated unit tests with all successful passes.
- Successful setup and execution of the CI/CD pipeline.

## Additional Resources:

- Refer to [About GitHub Copilot Chat](https://docs.github.com/en/copilot/github-copilot-chat/about-github-copilot-chat) for reference.
- Refer to [Copilot Chat writes Unit Tests](https://dev.to/this-is-learning/copilot-chat-writes-unit-tests-for-you-1c82) for reference.
- Refer to [Using GitHub Copilot Chat in your IDE](https://docs.github.com/en/copilot/github-copilot-chat/using-github-copilot-chat-in-your-ide) for reference.

## Conclusion
Congratulations on completing the **Enhancing Contoso Traders with GitHub Copilot** challenge! Through this challenge you have not only focused on finding and fixing vulnerabilities but also promoted a security-conscious development mindset. The next challenge focuses on implementing security policies using Azure Policy and integrating compliance scanning within your GitHub CI/CD pipelines.

# Challenge 05: Implementing Monitoring Solutions for Contoso Traders

### Estimated Time: 60 minutes

## Introduction:

As a Cloud Solutions Engineer, your task is to enhance the monitoring capabilities of the Contoso Traders application hosted on Azure. Monitoring is crucial for maintaining optimal application health, identifying potential issues proactively, and ensuring a seamless user experience. 

In this challenge, you will integrate Azure's monitoring tools—Azure Monitor and Application Insights—into the Azure-based application. You will integrate Azure's monitoring tools—Azure Monitor and Application Insights—into your Azure-based application. Monitor essential metrics, analyze performance data, and gain real-time insights to ensure optimal application health.

## Challenge Objectives:

1. **Setup Monitoring Infrastructure:**

   - Create and set up Application Insights for the Contoso traders application using Key vault.

2. **Dashboard Creation:**
   - Design comprehensive dashboards for real-time visualization of application health and performance metrics.
      - Participants will create visually intuitive dashboards within Azure Monitor or Application Insights, displaying the collected metrics. These dashboards should offer clear insights into the application's health, failed requests, server response time, and availability.

3. **Monitor the application using App Insights:**

   - Monitor and explore the application using the dashboard that you created in the previous task.

## Success criteria:
To complete this challenge successfully:

- Verify the Monitoring dashboards where data should be populated based on usage of Contoso traders application.

## Additional Resources:

- Refer to [Application Insights Overview](https://learn.microsoft.com/en-us/azure/azure-monitor/app/app-insights-overview) for reference.
- [Application Insights for ASP.NET Core applications](https://learn.microsoft.com/en-us/azure/azure-monitor/app/asp-net-core?tabs=netcorenew%2Cnetcore6).
- Refer to [Azure Monitor vs Application Insights](https://azurelib.com/azure-monitor-vs-application-insights/) for reference.

## Conclusion
Congratulations on completing the **Implementing Monitoring Solutions for Contoso Traders** challenge! You learned about the creation and configuration of Azure Monitoring infrastructure for a cloud-hosted application. In the next challenge, you will focus on testing the resiliency and availability of the application.

# Challenge 06: Resilience Testing using Azure Load Testing & Azure Chaos Studio

### Estimated Time: 60 minutes

## Introduction:
As a DevOps Engineer specializing in performance and resilience testing, you are tasked with enhancing the Contoso Traders application's resilience using Azure Load Testing and Azure Chaos Studio. This challenge focuses on ensuring optimal performance during heavy loads and fortifying the application against disruptions.

The Contoso Traders application is hosted on Azure Kubernetes Service (AKS), and your goal is to assess and improve its resilience through performance testing and controlled chaos experiments.

## Challenge Objectives:

1. **Setting Up Azure Load Testing:**

   - Create an Azure Load Testing instance, and create and execute a quick test to check the load of 50 users for 2 minutes.
   - Resolve the errors if the test fails and take action to improve the application's resiliency.
  
> **Congratulations** on completing the task! Now, it's time to validate it. Here are the steps:
> - Hit the Validate button for the corresponding task. If you receive a success message, you can proceed to the next task. 
> - If not, carefully read the error message and retry the step, following the instructions in the lab guide.
> - If you need any assistance, please contact us at cloudlabs-support@spektrasystems.com We are available 24/7 to help

<validation step="50b9facb-cdbc-464f-9e5c-c38ff56704cd" />

2. **Create an experiment and target using Azure Chaos Studio:**

   -  Utilize Azure Chaos Studio to assess the resilience of the Azure Kubernetes service where the Contoso Traders' application is hosted.
   - Using Chaos Studio, target the AKS cluster resource.
   - Create an experiment and set up faults on AKS Chaos Mesh Pods Chaos for 5 minutes, and execute the experiment.
  
> **Congratulations** on completing the task! Now, it's time to validate it. Here are the steps:
> - Hit the Validate button for the corresponding task. If you receive a success message, you can proceed to the next task. 
> - If not, carefully read the error message and retry the step, following the instructions in the lab guide.
> - If you need any assistance, please contact us at cloudlabs-support@spektrasystems.com We are available 24/7 to help

<validation step="b00a14c1-7e6f-4948-b31c-689548a69990" />
     
## Success criteria:
To complete this challenge successfully:

- Successful setup and execution of Azure Load Testing using a quick test to simulate high-scale traffic on the web application.
- Create and verify experiment execution using Azure Chaos Studio showcasing a clear understanding of resilience testing principles.

## Additional Resources:

Here are a few documentation and guides to assist you in completing the challenge.
- [Continuous validation with Azure Load Testing and Azure Chaos Studio](https://learn.microsoft.com/en-us/azure/architecture/guide/testing/mission-critical-deployment-testing)
- [What is Azure Chaos Studio?](https://learn.microsoft.com/en-us/azure/chaos-studio/chaos-studio-overview).
- [Intro to Chaos Engineering and Azure Chaos Studio](https://pdtit.medium.com/intro-to-chaos-engineering-and-azure-chaos-studio-preview-5e85fff10642).

## Conclusion
Congratulations on completing the **Resilience Testing using Azure Load Testing and Azure Chaos Studio** challenge! You learned about the implementation of Azure Load testing and experimented in Azure Chaos Studio. 

Congratulations! You have successfully completed all the challenges. 

# Challenge 07: DevSecOps with AI-Powered GitHub Actions

### Estimated Time: 40 minutes

### Introduction:
Contoso Traders, an e-commerce platform, is committed to delivering secure and efficient software solutions. In this challenge, as a Lead DevSecOps engineer, your focus is to enhance the DevSecOps workflow by leveraging AI-driven GitHub Actions that focus on code review and security checks for pull requests thus leading to improved code quality and enhanced security practices in the development lifecycle.

You need to focus on completing the implementation of the below-mentioned GitHub Actions:

**AI Code Review Action**: AI Code Reviewer is a GitHub Action that leverages OpenAI's GPT-4 API to provide intelligent feedback and suggestions on your pull requests. This powerful tool helps improve code quality and saves developers time by automating the code review process.

**AI Security Check for Pull Request**: This GitHub Action uses OpenAI's GPT to analyse code in pull requests and identify potential security and privacy vulnerabilities and comment to the pull request with the findings.

## Challenge Objectives:

>**Note:** This challenge requires you to sign in/sign up to a free tier OpenAI account. This free-tier provides you with a $5 credit limit that expires within a period of 3 months from the day of account activation.

1. **Configure and implement AI Code Review GitHub Action:**
   - Sign In/ Sign up to an OpenAI account and create a new secret key (API key).
     
      >**Note:** This API key will be used as you move forward in the challenge. Keep it handy!
   
   - Use this OpenAI API key to create a GitHub Secret in your repository with the name `OPENAI_API_KEY`.
   - Create a `.github/workflows/ai-code-review.yml` file in your repository to successfully implement `AI Code Reviewer` GitHub Action which provides intelligent feedback and suggestions on your pull requests.
  
> **Congratulations** on completing the task! Now, it's time to validate it. Here are the steps:
> - Hit the Validate button for the corresponding task. If you receive a success message, you can proceed to the next task. 
> - If not, carefully read the error message and retry the step, following the instructions in the lab guide.
> - If you need any assistance, please contact us at cloudlabs-support@spektrasystems.com We are available 24/7 to help

<validation step="5f0bf0b3-732d-4ef1-ac93-7335bfaad030" />

2. **Configure and implement AI Security Check for Pull Requests:**
   - Use the previously created OpenAI API key to create a GitHub Secret in your repository with the name `OPENAI_TOKEN`.
   - Create a new GitHub secret named `GH_TOKEN` with a GitHub Personal Access Token with the `repo` and `write:discussion` scopes enabled.
   - Create a new `./github/workflows/ai-security-check-for-pr.yml` workflow file in your repository to successfully implement `AI Security Check for Pull Requests` GitHub Action which analyzes the code in each pull request targeting the specified branch.
  
> **Congratulations** on completing the task! Now, it's time to validate it. Here are the steps:
> - Hit the Validate button for the corresponding task. If you receive a success message, you can proceed to the next task. 
> - If not, carefully read the error message and retry the step, following the instructions in the lab guide.
> - If you need any assistance, please contact us at cloudlabs-support@spektrasystems.com We are available 24/7 to help

<validation step="4d86abe3-dfe3-458f-b1bf-1174db58aa57" />
  
## Success criteria:
To complete this challenge successfully:

- Successful implementation of the `AI Code Review Action` and generation of review comments based on the AI's response and added to the pull request.
- Successful implementation of the `AI Security Check for Pull Requests` and generation of comments to the pull requests based on AI's analysis of the code.

## Additional Resources:

- Refer to [AI Code Review Action](https://github.com/marketplace/actions/ai-code-review-action) for reference.
- Refer to [AI Security Check for Pull Request](https://github.com/marketplace/actions/ai-security-check-for-pull-request) for reference.


## Conclusion
Congratulations on completing the **DevSecOps with AI-Powered GitHub Actions** challenge! Through this challenge you have seamlessly integrated AI-driven GitHub Actions, elevated code quality, security, and developer productivity. In the next challenge, you will focus on using GitHub Copilot Chat to implement/add new features to the existing Contoso Traders Application and deploy the changes to Azure through CI/CD.

# Challenge 08: Security Compliance as Code

### Estimated Time: 60 minutes

### Introduction:
In this challenge, you are a DevOps engineer responsible for ensuring the security compliance of your organization's Azure resources. Your task is to implement and enforce security policies using Azure Policy over the Azure resources and integrate compliance scanning into the GitHub CI/CD pipelines for your Azure projects. 

## Challenge Objectives:

1. **Implement Security Policies using Azure Policy:**
   - Enforce compliance by assigning *built-in* policy definition called **Inherit a tag from the resource group if missing** to add the specified tag with its value from the parent resource group to new or updated resources missing the tag.
   - Implement an Azure custom policy to restrict resource deployments to the **East US** region within a designated resource group.
   - Ensure that your policies are effective in preventing non-compliant resources from being deployed.
   
2. **Integrate Compliance Scanning in CI/CD pipeline:**
   - Integrate a compliance scanning step into your GitHub pipeline that checks for policy compliance before allowing deployment.
      - Implement **Azure Policy Compliance Scan** GitHub action within `.github/workflows/complaince-scan.yml` which triggers a policy compliance scan on the provided subscription and continue/fail the workflow based on the compliance state of the resources.
   - Ensure that compliance scans are triggered automatically during the CI/CD process.

> **Congratulations** on completing the task! Now, it's time to validate it. Here are the steps:
> - Hit the Validate button for the corresponding task. If you receive a success message, you can proceed to the next task. 
> - If not, carefully read the error message and retry the step, following the instructions in the lab guide.
> - If you need any assistance, please contact us at cloudlabs-support@spektrasystems.com We are available 24/7 to help

<validation step="cb051155-bc48-4fae-ba18-23625e5255b0" />
     
## Success criteria:
To complete this challenge successfully:

- Successful effectiveness of policies in enforcing security compliance.
- Successful integration of compliance scanning into the pipeline.
- Successful setup and execution of the GitHub Action.

## Additional Resources:

- Refer to [Overview of Azure Policy](https://learn.microsoft.com/en-us/azure/governance/policy/overview) for reference.
- Refer to [Azure Policy Compliance Scan](https://github.com/marketplace/actions/azure-policy-compliance-scan) for reference.


## Conclusion
Congratulations on completing the **Security Compliance as Code** challenge! Through this challenge not only implemented security policies using Azure Policy but also emphasized the importance of automating the entire process through CI/CD pipelines thus ensuring continuous compliance in a dynamic cloud environment. The next challenge focuses on seamlessly integrating and configuring Microsoft Defender for Cloud within a DevOps context, ensuring a secure and resilient software development lifecycle.

# Challenge 09: Securing DevOps with Microsoft Defender for Cloud

### Estimated Time: 30 minutes

### Introduction:
Contoso Traders, an e-commerce platform, is committed to delivering secure and efficient software solutions. In this challenge, as a DevSecOps engineer, you are responsible for ensuring the security of your applications throughout the development lifecycle. Your organization has recently adopted Microsoft Defender for Cloud to enhance the security posture of your DevOps pipelines.

Your task is to implement Microsoft Defender for Cloud DevOps security measures by configuring the necessary GitHub actions within your created GitHub repository, viewing the scanned results, and connecting your GitHub environment to Microsoft Defender for Cloud.

## Challenge Objectives:

>**Note:** The GitHub account provided whose credentials would be available in the environment details tab, has GitHub Enterprise with GitHub Advanced Security enabled for the ease of execution of this challenge.

1. **Connect GitHub Environment to Microsoft Defender for Cloud:**
   - Connect your GitHub environment to Microsoft Defender for Cloud.
   - Extend the security capabilities of Defender for Cloud to your GitHub resources by enabling the **Cloud Security Posture Management (CSPM) features**.
   - Ensure that the Microsoft Defender for cloud is configured such that it auto-discovers all repositories in GitHub organizations and any future organizations where the DevOps security GitHub application is installed.

2. **Configure Microsoft Security DevOps GitHub Action:**
   
   - Integrate the Microsoft Defender for Cloud GitHub Action into the workflow of your GitHub repository.
   - Create a `.github/workflows/msdevopssec.yml` file in your repository to perform static code analysis, vulnerability scanning, and compliance checks.

3. **Investigate and Remediate:**
   - Trigger the GitHub Action workflow created in the previous challenge objective to run Microsoft Defender for Cloud scans.
   - Review, identify, and understand the security findings and recommendations provided by Microsoft Defender for Cloud.
   - Implement fixes or enhancements to address the security findings identified during the scan.
   - Ensure that the GitHub Action workflow passes successfully after addressing the security issues.
  
> **Congratulations** on completing the task! Now, it's time to validate it. Here are the steps:
> - Hit the Validate button for the corresponding task. If you receive a success message, you can proceed to the next task. 
> - If not, carefully read the error message and retry the step, following the instructions in the lab guide.
> - If you need any assistance, please contact us at cloudlabs-support@spektrasystems.com We are available 24/7 to help

<validation step="0531cfee-4c15-4022-9ab7-1b691f7b6203" />

## Success criteria:
To complete this challenge successfully:

- Appropriate integration and configuration of Microsoft Security DevOps GitHub Action.
- Successful connection of GitHub environment to Microsoft Defender for Cloud.

## Additional Resources:


- Refer to [Overview of Microsoft Defender for Cloud DevOps Security](https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-devops-introduction) for reference.
- Refer to [Configure the Microsoft Security DevOps GitHub action](https://learn.microsoft.com/en-us/azure/defender-for-cloud/github-action) for reference.
- Refer to [Connect your GitHub Environment to Microsoft Defender for Cloud](https://learn.microsoft.com/en-us/azure/defender-for-cloud/quickstart-onboard-github) for reference.


## Conclusion
Congratulations on completing the **Securing DevOps with Microsoft Defender for Cloud** challenge! Through this challenge you have seamlessly integrated and configured Microsoft Defender for Cloud within a DevOps context, ensuring a secure and resilient software development lifecycle.

Congratulations! You have successfully completed all the challenges.
